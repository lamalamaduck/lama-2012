\documentclass[finnish,11pt,draft]{article}

\usepackage[finnish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[margin=2cm]{geometry}
\usepackage{amsfonts,amsmath,amssymb,amsthm,enumitem}
\usepackage{microtype}
\usepackage{array}
\usepackage{booktabs}
\usepackage{pgf}
\usepackage{tikz}
\usepackage{tikz-qtree}
\usetikzlibrary{arrows,automata,positioning}

\setenumerate{listparindent=\parindent}

\newtheorem*{claim}{Väite}

\newcommand{\set}[1]{{\left\{ #1 \right\}}}
\newcommand{\ceil}[1]{{\left\lceil#1\right\rceil}}
\newcommand{\Nat}{\mathbb{N}}
\newcommand{\ve}{\varepsilon}

\newenvironment{automata}[1][2.8]%
{\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=#1cm,semithick]}%
{\end{tikzpicture}}

\newenvironment{centerautomata}[1][2.8]%
{\begin{center}\begin{automata}[#1]}%
{\end{automata} \end{center}}

\newcolumntype{W}{>{\centering\arraybackslash}m{5cm} }
\newcolumntype{V}{>{\centering\arraybackslash}m{2cm} }

\begin{document}

\subsection*{582206 Laskennan mallit, syksy 2012 \\
  \textmd{8. harjoitusten malliratkaisut \\
    Juhana Laurinharju ja Jani Rahkola}}

Moninauhaisissa koneissa $S$-siirtymä eĺi siirtymä missä ei nauha päätä
siirretä mihinkään on usein hyö\-dyl\-li\-nen. Koska tämä ominaisuus ei muuta
Turing-koneen kielentunnistusominaisuuksia, voit vapaasti käyttää tätä
ominaisuutta ratkaisuissasi.

\begin{enumerate}
\item
  Tehtävässä tarkastellaan Jyrkin luentojen sivuilla~230 ja 241 esitettyjä
  determinististä ja e\-pä\-de\-ter\-mi\-nis\-tis\-tä Turingin konetta
  kielelle $\set{ww\mid w\in\set{0,1}^\ast}$. Koneiden kaavioesitykset on myös
  annettu seuraavalla sivulla.
  \begin{enumerate}
  \item
    Esitä Jyrkin luentojen sivun 230 deterministisen Turingin koneen laskenta
    (ts.\ tilanteiden jono) syötteellä 001001.
  \item
    Esitä Jyrkin luentojen sivun 241 epädeterministiselle Turingin koneelle
    yksi hyväksyvä ja yksi hylkäävä laskenta syötteellä 001001.
  \end{enumerate}
  
\item
  Esitä tilakaaviona kielen $\set{a^ib^jc^id^j\mid i,j\in \Nat}$ tunnistava
  deterministinen yksinauhainen Turingin kone.

  \begin{centerautomata}
    \node[initial,state] (q0)                      {$q_0$};
    \node[state]         (q1)  [above left of=q0]  {$q_1$};
    \node[state]         (q2)  [above right of=q0] {$q_2$};
    \node[state]         (q3)  [below=1.4cm of q0] {$q_3$};
    \node[state]         (q4)  [below right of=q3] {$q_4$};
    \node[state]         (q5)  [below left of=q3]  {$q_5$};
    \node[state]         (q6)  [right=2.8cm of q3] {$q_6$};
    \node[accepting,state] (a) [right of=q6]       {$q_{accept}$};

    \path
    (q0) edge              node {$a \to \bar{a},R$}   (q1)
    (q1) edge [loop above] node {$a,b,\bar{c} \to R$} (q1)
    (q1) edge              node {$c \to \bar{c}, L$}  (q2)
    (q2) edge [loop above] node {$a,b,\bar{c} \to L$} (q2)
    (q2) edge              node {$\bar{a} \to R$}     (q0);
    \path
    (q0) edge node {$\_,b \to S$} (q3);
    \path
    (q3) edge              node {$b \to \bar{b}, R$}        (q4)
    (q4) edge [loop below] node {$b,\bar{c},\bar{d} \to R$} (q4)
    (q4) edge              node {$d \to \bar{d}, L$}        (q5)
    (q5) edge [loop below] node {$b,\bar{c},\bar{d} \to L$} (q5)
    (q5) edge              node {$\bar{b} \to R$}           (q3);
    \path
    (q3) edge              node {$\_,\bar{c},\bar{d} \to R$} (q6)
    (q6) edge [loop above] node {$\bar{c},\bar{d} \to R$}    (q6)
    (q6) edge              node {$\_ \to S$}                 (a);
  \end{centerautomata}

  Automaatti koostuu kolmesta osasta. Tilasta $q_0$ lähtevässä silmukassa
  tarkistetaan, että $c$ merkkejä on vähintään yhtä monta kuin $a$ merkkejä.
  Tilasta $q_3$ lähtevässä silmukassa puolestaan tarkistetaan, että $d$
  merkkejä on vähintään yhtä monta kuin $b$ merkkejä. Tämä tehdään
  merkitsemällä käsitelty $a$-merkki (vastaavasti $b$-merkki) viivalla,
  etsimällä seuraava merkitsemätön $c$-merkki (vastaavasti $d$-merkki) ja
  merkitsemällä sekin. Jos näin tehtäessä $c$ tai $d$ merkit loppuivat kesken,
  siirrytään virhetilaan (jota ei selvyyden vuoksi piirretty kuvaan).

  Lopuksi tarkistetaan, että yhtään $c$ tai $d$ merkkiä ei jäänyt
  merkkaamatta. Tämä tehdään aloittamalla viimeisestä $b$-merkkiä seuraavasta
  merkistä, ja sallimalla vain merkattuja $c$ ja $d$ merkkejä. Kun koko syöte
  on luettu, siirrytään hyväksyvään tilaan.

\item
  Esitä tilakaaviona kaksinauhainen Turingin kone, joka tunnistaa kielen
  $\set{a^nb^nc^n\mid n\in N}$. Sopiva tapa merkitä kaksinauhaisen koneen
  siirtymä $\delta(r,a_1,a_2)=(s,b_1,b_2,D_1,D_2)$ on esim.

  \newcommand{\twotrans}
{\left[\begin{array}{c}
a_1\rightarrow b_1,D_1\\
a_2\rightarrow b_2,D_2
\end{array}\right]}

\bigskip

%% \begin{center}
%% \input{pics/t11t3.pspdftex}
%% \end{center}

\newcommand{\doubletrans}[6]
{$\left[\begin{array}{c}\trans{#1}{#2}{#3} \\ \trans{#4}{#5}{#6}\end{array}\right]$}

\newcommand{\trans}[3]{#1 \to #2 \text{, } #3}

\newcommand{\spc}{\textvisiblespace}

\begin{centerautomata}
    \node[initial,state] (qstart) {$q_{\text{start}}$};
    \node[state] (qloop1) [above right of=qstart] {$q_1$};
    \node[state] (qloop2) [right=4cm of qloop1] {$q_2$};
    \node[state] (qloop3) [below=2.96cm of qloop2] {$q_3$};
    \node[state,accepting] (qaccept) [below right of=qstart] {$q_{\text{accept}}$};

    \path
    (qstart) edge              node        {\doubletrans{a}   {a}   {S}{\spc}{\spc}{S}} (qloop1)
    (qloop1) edge [loop above] node        {\doubletrans{a}   {a}   {R}{\spc}{a}   {R}} (qloop2)
    (qloop1) edge              node        {\doubletrans{b}   {b}   {S}{\spc}{\spc}{L}} (qloop2)
    (qloop2) edge [loop above] node        {\doubletrans{b}   {b}   {R}{a}   {b}   {L}} (qloop2)
    (qloop2) edge              node        {\doubletrans{c}   {c}   {S}{b}   {b}   {S}} (qloop3)
    (qloop3) edge [loop right] node        {\doubletrans{c}   {c}   {R}{b}   {c}   {R}} (qloop3)
    (qloop3) edge              node [swap] {\doubletrans{\spc}{\spc}{S}{\spc}{\spc}{S}} (qaccept)
    ;
\end{centerautomata}

\item
  Merkkijono-operaatioita. Olkoon syöteaakkosto $\set{a,b}$
  \begin{enumerate}
  \item 
    Esitä tilakaaviona Turing-kone, mikä siirtää lukupään nauhan loppuun eli
    syötteen oikealle puolelle.
  \item
    Esitä tilakaaviona Turing-kone, mikä siirtää lukupään nauhan alkuun eli
    vasempaan laitaan.
  \item
    Esitä tilakaaviona Turing-kone, mikä siirtää syötteensä yhdellä paikalla
    oikealle.
  \item
    Esitä tilakaaviona Turing-kone, mikä kääntää syötteensä toisin päin.
  \end{enumerate}

\item
  Laskentoa Turing-koneella. Olkoon syöte aakkosto $\set{0,1}$.
  \begin{enumerate}
  \item
    Esitä tilakaaviona Turing-kone, mikä kasvattaa yhdellä syötteenään
    saamaansa binäärilukua.
    \begin{enumerate}
    \item
      Oleta että binääriluvun vähiten merkitsevät bitit ovat nauhan alussa.
    \item
      Oleta että binääriluvun vähiten merkitsevät bitit ovat nauhan lopussa.
    \end{enumerate}
  \item
    Esitä tilakaaviona Turing-kone, mikä vähentää yhdellä syötteenään
    saamaansa binäärilukua.
  \item
    Esitä tilakaaviona kolminauhainen Turing-kone, mikä saa kahdellä
    ensimmäisellä nauhalla yhden binääriluvun kullakin, ja joka laskee
    kolmannelle nauhalle syötelukujen summan.
  \end{enumerate}

\item 
  Esitä tilakaaviona kolminauhainen Turing-kone, mikä saa yhdellä nauhalla
  syötteenä binääriluvun ja kirjoittaa toiselle nauhalle binäärilukua
  vastaavan määrän kirjainta $a$. Kolmatta nauhaa voit käyttää jos tarvitset
  (onkohan tää liian vaikea...).

\item
  Esitä tilakaaviona kolminauhainen Turing-kone, mikä saa kahdellä
  ensimmäisellä nauhalla yhden binääriluvun kullakin, ja joka laskee kolmannen
  nauhan avulla syötelukujen kertolaskun (onkohan tää liian vaikea...).
\end{enumerate}

%% \vfill

%% \centerline{\bf Tehtävän~1 kaaviot seuraavalla sivulla!}

%% \newpage

%% Tehtävän 1.(a) deterministinen Turingin kone:
%% \begin{center}
%% \input{pics/TMesim02.pspdftex}
%% \end{center}
%% Tehtävän 1.(b) epädeterministinen Turingin kone:
%% \begin{center}
%% \input{pics/NDTMesim01.pspdftex}
%% \end{center}


\end{document}
